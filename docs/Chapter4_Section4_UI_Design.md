# 4.4 تصميم واجهات المستخدم

يتضمن هذا القسم تصميم واجهات المستخدم الرسومية (GUI) للنظام، والتي تنقسم إلى واجهات الإدخال وواجهات الإخراج. تم تصميم الواجهات باستخدام React مع TypeScript وTailwind CSS لتوفير تجربة مستخدم سلسة وعصرية.

---

## 4.4.1 واجهات الإدخال (Input Interfaces)

### أ. واجهة تسجيل الدخول (Login)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | تسجيل دخول المستخدمين إلى النظام |
| **المكونات** | حقل اسم المستخدم، حقل كلمة المرور، زر إظهار/إخفاء كلمة المرور، زر تسجيل الدخول |
| **التحقق** | التحقق من صحة بيانات الاعتماد عبر API، عرض رسائل الخطأ |
| **الإجراءات** | توجيه المستخدم للوحة التحكم (مدير) أو الصفحة الرئيسية (موظف)، إجبار تغيير كلمة المرور عند الحاجة |

**عناصر الواجهة:**
- شعار النظام ومركز الاستشارات والتنمية
- حقل إدخال اسم المستخدم مع أيقونة المستخدم
- حقل إدخال كلمة المرور مع زر إظهار/إخفاء
- زر "دخول" لتسجيل الدخول
- رسائل خطأ ديناميكية عند فشل تسجيل الدخول
- مؤشر تحميل أثناء عملية التحقق

---

### ب. واجهة رفع الوثائق (Upload Document)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | رفع وثائق جديدة إلى النظام للمعالجة والتحليل |
| **المكونات** | اختيار مصدر الوثيقة، منطقة سحب وإفلات الملفات، اختيار الاتجاه، حقل العنوان |
| **أنواع الملفات** | PDF, Word (.doc, .docx), Excel (.xls, .xlsx), صور (PNG, JPG, TIFF, GIF, BMP) |
| **الإجراءات** | رفع الملف، استخراج النص (OCR)، التصنيف التلقائي، حفظ الوثيقة |

**خطوات الرفع (4 خطوات):**

1. **اختيار مصدر الوثيقة:**
   - ملف من الجهاز (File)
   - سكانر (Scanner) - مسح ضوئي مباشر عبر TWAIN/WIA

2. **اختيار الملف:**
   - منطقة سحب وإفلات (Drag & Drop)
   - زر "اختيار ملف" للتصفح
   - معاينة الصورة قبل الرفع
   - عرض اسم الملف وحجمه ونوعه

3. **اختيار اتجاه الوثيقة:**
   - صادر (Outgoing) - وثيقة صادرة من المركز
   - وارد (Incoming) - وثيقة واردة للمركز

4. **العنوان (اختياري):**
   - إدخال عنوان يدوي
   - أو ترك الحقل فارغاً للعنوان المقترح تلقائياً

**عناصر إضافية:**
- شريط تقدم الرفع مع النسبة المئوية
- رسالة نجاح تتضمن رقم الوثيقة
- رسائل خطأ تفصيلية عند الفشل

---

### ج. واجهة إدارة المستخدمين (Users Admin)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | إضافة وتعديل وحذف المستخدمين في النظام |
| **الوصول** | مدير النظام فقط |
| **المكونات** | نموذج إضافة مستخدم، جدول المستخدمين، نموذج التعديل |

**نموذج إضافة مستخدم جديد:**

| القسم | الحقول |
|-------|--------|
| **معلومات الحساب** | اسم المستخدم*, كلمة المرور المؤقتة* |
| **المعلومات الشخصية** | الاسم الكامل، البريد الإلكتروني، رقم الهاتف |
| **الدور والصلاحيات** | الدور (موظف/مدير)، نطاق التحليل (own/all/selected)، إجبار تغيير كلمة المرور |
| **صلاحيات الوثائق** | الاطلاع على كل الوثائق، إدارة وثائقه، حذف وثائقه، مشاركة وثائقه، البحث، إنشاء التقارير |

**جدول المستخدمين:**
- رقم المستخدم (#)
- اسم المستخدم
- الاسم الكامل
- البريد الإلكتروني
- رقم الهاتف
- الدور (موظف/مدير النظام)
- الحالة (نشط/معطل)
- حالة الاتصال (متصل/غير متصل) - تحديث تلقائي كل 5 ثوان

**إجراءات المستخدم:**
- تعديل البيانات
- إعادة تعيين كلمة المرور
- تنشيط/تعطيل الحساب
- حذف نهائي (مع تأكيد مزدوج)

---

### د. واجهة تغيير كلمة المرور (Change Password)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | تغيير كلمة المرور للمستخدم الحالي |
| **المكونات** | كلمة المرور الحالية، كلمة المرور الجديدة، تأكيد كلمة المرور |
| **التحقق** | تطابق كلمتي المرور، طول كلمة المرور، صحة كلمة المرور الحالية |

---

### هـ. واجهة البحث المتقدم - قسم الإدخال (Search)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | البحث في الوثائق والطلاب |
| **المكونات** | حقل البحث، تبويبات (وثائق/طلاب)، فلاتر البحث |

**فلاتر بحث الوثائق:**
- البحث في: الكل / العنوان فقط / المحتوى فقط
- نوع الوثيقة: شهادة، تقرير، كتاب رسمي، نموذج، كشف درجات، اختبار، فاتورة، عقد، محضر اجتماع، أخرى
- الاتجاه: صادر / وارد
- زر مسح الفلاتر

**بحث الطلاب:**
- البحث برقم الطالب أو الاسم

---

## 4.4.2 واجهات الإخراج (Output Interfaces)

### أ. لوحة التحكم (Admin Dashboard)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | عرض نظرة شاملة على إحصائيات النظام |
| **الوصول** | مدير النظام |
| **التحديث** | تلقائي كل دقيقة + زر تحديث يدوي |

**بطاقات الإحصائيات السريعة:**

| البطاقة | الوصف | اللون |
|---------|-------|-------|
| إجمالي المستخدمين | عدد جميع المستخدمين في النظام | سماوي |
| المستخدمون المتصلون | المستخدمون النشطون حالياً | أخضر |
| إجمالي الوثائق | عدد جميع الوثائق + نسبة التغير | بنفسجي |
| العمليات اليوم | عدد العمليات المنفذة اليوم | برتقالي |

**بطاقات الإدارة:**
- إدارة المستخدمين → رابط لصفحة المستخدمين
- سجل النشاط → رابط لصفحة النشاط
- صلاحيات الوثائق (قريباً)

**قسم البيانات التفصيلية:**
- **المستخدمون المتصلون:** قائمة بأسماء وأدوار المستخدمين المتصلين حالياً
- **النشاط الأخير:** آخر 5 عمليات مع ترجمة عربية للإجراءات

**الرسوم البيانية:**
- **الوثائق حسب النوع:** رسم بياني شريطي يوضح توزيع الوثائق
- **الوثائق الشهرية:** رسم بياني يوضح عدد الوثائق خلال الأشهر الأخيرة

---

### ب. واجهة عرض الوثائق (Documents)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | عرض وإدارة جميع الوثائق المرفوعة |
| **المكونات** | فلاتر، جدول الوثائق، تفاصيل الوثيقة |

**فلاتر الوثائق:**
- نوع الوثيقة
- الاتجاه (صادر/وارد)
- من تاريخ / إلى تاريخ
- زر بحث + زر مسح الفلاتر

**جدول الوثائق:**

| العمود | الوصف |
|--------|-------|
| رقم الوثيقة | معرف فريد للوثيقة |
| العنوان | عنوان الوثيقة |
| التصنيف | نوع الوثيقة (شهادة، تقرير، إلخ) |
| الاتجاه | صادر/وارد مع لون مميز |
| دقة OCR | نسبة دقة استخراج النص (أخضر >90%, أصفر >70%, أحمر <70%) |
| الحالة | مكتمل/قيد المعالجة/فشل |
| التاريخ | تاريخ رفع الوثيقة |
| الإجراءات | زر "عرض" |

**تفاصيل الوثيقة:**

| القسم | المحتوى |
|-------|---------|
| **البيانات الوصفية** | رقم الوثيقة، العنوان، العنوان المقترح، التصنيف، الاتجاه، دقة OCR، المصدر، تاريخ الرفع، آخر تحديث |
| **مسار الملف** | المسار الكامل للملف الأصلي مع زر نسخ |
| **النص المستخرج** | عرض النص المستخرج من OCR بتنسيق منظم |

**إجراءات الوثيقة:**
- طباعة الوثيقة (فتح نافذة طباعة منسقة)
- استخراج بيانات الطلاب (لكشوف الدرجات فقط)
- تعديل البيانات الوصفية (العنوان، التصنيف، الاتجاه)

---

### ج. واجهة نتائج البحث (Search Results)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | عرض نتائج البحث في الوثائق والطلاب |
| **المكونات** | عدد النتائج، وقت البحث، بطاقات النتائج |

**نتائج بحث الوثائق:**
- عنوان الوثيقة
- رقم الوثيقة
- التصنيف والاتجاه
- نسبة الصلة (Relevance Score)
- مقتطف من النص مع تمييز كلمات البحث
- زر "عرض" للتفاصيل

**نتائج بحث الطلاب:**
- اسم الطالب (عربي/إنجليزي)
- رقم الطالب
- المعدل التراكمي
- زر "عرض التفاصيل"

---

### د. واجهة تفاصيل الطالب (Student Details)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | عرض بيانات الطالب وتحليل درجاته |
| **المكونات** | معلومات الطالب، جدول الدرجات، تحليل الأداء |

**معلومات الطالب:**
- رقم الطالب
- الاسم الكامل (عربي/إنجليزي)
- البريد الإلكتروني
- رقم الهاتف
- تاريخ الميلاد
- المستوى/الصف
- القسم/التخصص
- المعدل التراكمي

**جدول الدرجات:**
- المادة
- نوع الامتحان
- الدرجة / الدرجة الكاملة
- النسبة المئوية
- التقدير
- تاريخ الامتحان
- الفصل الدراسي
- السنة الأكاديمية

---

### هـ. واجهة سجل النشاط (Activity Log)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | عرض سجل جميع العمليات في النظام |
| **الوصول** | مدير النظام |
| **المكونات** | فلاتر، جدول الأنشطة |

**فلاتر النشاط:**
- المستخدم
- نوع الإجراء
- من تاريخ / إلى تاريخ

**جدول الأنشطة:**

| العمود | الوصف |
|--------|-------|
| المستخدم | اسم المستخدم الذي نفذ العملية |
| الإجراء | نوع العملية (مترجم للعربية) |
| التفاصيل | معلومات إضافية عن العملية |
| عنوان IP | عنوان IP المستخدم |
| التاريخ والوقت | توقيت تنفيذ العملية |

**أنواع الإجراءات المترجمة:**
- login → تسجيل دخول
- logout → تسجيل خروج
- upload → رفع وثيقة
- view → عرض وثيقة
- update → تعديل
- delete → حذف
- search → بحث
- ... إلخ

---

### و. واجهة التقارير (Reports)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | إنشاء وعرض التقارير التحليلية |
| **المكونات** | فلاتر التقارير، الرسوم البيانية، الجداول الإحصائية |

---

### ز. واجهة الصفحة الرئيسية (Home)

| العنصر | الوصف |
|--------|-------|
| **الغرض** | الصفحة الرئيسية للموظفين |
| **المكونات** | إحصائيات سريعة، روابط سريعة للوظائف الأساسية |

---

## 4.4.3 المكونات المشتركة (Shared Components)

### أ. شريط التنقل (Navbar)

| العنصر | الوصف |
|--------|-------|
| **الموقع** | أعلى جميع الصفحات |
| **المكونات** | شعار النظام، روابط التنقل، اسم المستخدم، زر تسجيل الخروج |

**روابط التنقل:**
- الرئيسية
- رفع وثيقة
- عرض الوثائق
- البحث المتقدم
- التحليل والتقارير
- لوحة التحكم (للمدير فقط)

---

### ب. رسائل التنبيه (Toast Notifications)

| النوع | اللون | الاستخدام |
|-------|-------|-----------|
| نجاح | أخضر | عند نجاح العملية |
| خطأ | أحمر | عند فشل العملية |
| تحذير | أصفر | للتنبيهات المهمة |
| معلومات | أزرق | للمعلومات العامة |

---

### ج. مؤشرات الحالة (Status Badges)

| الحالة | اللون | الوصف |
|--------|-------|-------|
| مكتمل (completed) | أخضر | العملية اكتملت بنجاح |
| قيد المعالجة (processing) | أصفر | جاري معالجة الوثيقة |
| قيد الانتظار (pending) | رمادي | في انتظار المعالجة |
| فشل (failed) | أحمر | فشلت العملية |

---

## 4.4.4 دليل الألوان والأنماط (Style Guide)

### الألوان الرئيسية:

| اللون | الكود | الاستخدام |
|-------|-------|-----------|
| **Cyan (سماوي)** | #00BCD4 | الأزرار الرئيسية، العناوين، الروابط النشطة |
| **Green (أخضر)** | #22C55E | النجاح، نشط، متصل، دقة عالية |
| **Yellow (أصفر)** | #F59E0B | تحذير، قيد المعالجة، دقة متوسطة |
| **Red (أحمر)** | #EF4444 | خطأ، حذف، معطل، دقة منخفضة |
| **Purple (بنفسجي)** | #A855F7 | إحصائيات، تقارير |
| **Blue (أزرق)** | #3B82F6 | وارد، معلومات |

### خلفيات:

| المستوى | الكود | الاستخدام |
|---------|-------|-----------|
| Base-900 | #0a0a0a | الخلفية الرئيسية |
| Base-800 | #171717 | البطاقات |
| Base-700 | #262626 | العناصر الثانوية |

### الخطوط:
- **الخط العربي:** Tajawal, Cairo
- **الخط الإنجليزي/الأرقام:** Inter, Roboto Mono (للأكواد)

### الحدود والظلال:
- حدود البطاقات: `rgba(0, 188, 212, 0.12)`
- حدود التركيز: `rgba(0, 188, 212, 0.5)`
- ظلال التمرير: `shadow-cyan-500/20`

---

## 4.4.5 التجاوب (Responsive Design)

تم تصميم جميع الواجهات لتعمل على:
- **سطح المكتب (Desktop):** عرض كامل مع أعمدة متعددة
- **الأجهزة اللوحية (Tablet):** تقليل الأعمدة مع الحفاظ على الوظائف
- **الهواتف (Mobile):** عمود واحد مع قوائم منسدلة

| نقطة التوقف | العرض | التخطيط |
|-------------|-------|---------|
| sm | 640px | عمود واحد |
| md | 768px | عمودين |
| lg | 1024px | ثلاثة أعمدة |
| xl | 1280px | أربعة أعمدة أو أكثر |

---

## 4.4.6 إمكانية الوصول (Accessibility)

- **اتجاه النص:** RTL (من اليمين لليسار) للغة العربية
- **تباين الألوان:** تم مراعاة نسبة التباين للقراءة
- **لوحة المفاتيح:** جميع العناصر التفاعلية قابلة للوصول عبر Tab
- **الملصقات:** جميع الحقول تحتوي على Labels واضحة
- **رسائل الخطأ:** واضحة ومفهومة باللغة العربية
